---
/**
 * A component for displaying talk tags with links to tag pages
 */
export interface Props {
  tags: string[];
  currentTag?: string;
  limit?: number;
  showMore?: boolean;
}

const { tags = [], currentTag = "", limit, showMore = true } = Astro.props;

const displayTags = limit ? tags.slice(0, limit) : tags;
const hasMoreTags = showMore && limit && tags.length > limit;
---

<div class="flex flex-wrap gap-2 items-center">
  {
    displayTags.map((tag) => (
      <a
        href={`/tags/${tag.toLowerCase().replace(/\s+/g, "")}`}
        class={`rounded-full px-3 py-1 text-sm transition-colors ${
          tag.toLowerCase().replace(/\s+/g, "") ===
          currentTag?.toLowerCase().replace(/\s+/g, "")
            ? "bg-blue-100 text-blue-800 hover:bg-blue-200"
            : "bg-gray-100 text-gray-600 hover:bg-gray-200"
        }`}
      >
        {tag}
      </a>
    ))
  }
  {
    hasMoreTags && (
      <span class="text-sm text-gray-500">+{tags.length - limit} more</span>
    )
  }
</div>
